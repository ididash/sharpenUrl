CREATE TABLE [dbo].[User] (
    [Id] [bigint] NOT NULL IDENTITY,
    [UserGuid] [uniqueidentifier] NOT NULL,
    [IsDeleted] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.User] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[UserUrl] (
    [Id] [bigint] NOT NULL IDENTITY,
    [UserId] [bigint] NOT NULL,
    [OriginUrl] [nvarchar](2000),
    [CompactUrl] [nvarchar](128),
    [CreateOn] [datetime] NOT NULL,
    [NumberOfViews] [bigint] NOT NULL,
    [IsDeleted] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.UserUrl] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserId] ON [dbo].[UserUrl]([UserId])
ALTER TABLE [dbo].[UserUrl] ADD CONSTRAINT [FK_dbo.UserUrl_dbo.User_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[User] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201704161340442_shortenerUrl', N'URLShortener.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED595F6FDB36107F1FB0EF20E871C8AC381D862EB05BA44E52184BE2224A8ABD15B474768851A44A52998D619F6C0FFB48FB0A3BFD9748D9B29DB45D87212F1179F7BBE3F178FFFCF79F7F8D5EAF22E63C825454F0B13B1C1CBB0EF04084942FC76EA217DFBF745FBFFAF69BD14518AD9CF725DD8B940E39B91ABB0F5AC7A79EA7820788881A4434904289851E0422F24828BC93E3E39FBCE1D003847011CB7146B709D73482EC033F27820710EB84B06B110253C53AEEF819AA73432250310960ECDEDF5EF90F426AE02007E76757AE73C628413D7C600BD7219C0B4D346A797AAFC0D752F0A51FE3026177EB18906E41988242FBD39A7CD7831C9FA407F16AC6122A489416D19E80C31785653C93FD20FBBA95E5D076176863BD4E4F9DD90F4DA740BA8E29E874C2644A649A1669281F9C134DE644C12043A3A00629CA91D3417B54F907BA51FA77E44C12A61309630E8996841D39EF9239A3C1CFB0BE13BF021FF384B1A6CEA835EEB51670E99D143148BDBE8545719269E83A5E9BCF33192BB6064F7ECE29D73FFEE03A37289CCC19542ED1B089AF8584B7E9E18886F01DD11A244F312033AA25DD9095DAE86D422B89F9FF96C0ED2053750E0C507C89F246080684F703DD9047BACC0ED2A1D7BD64CA756E816504EA81C6F9DB19149B1F7237B99422BA15AC66CAD63FDC11B9048D1A898E4D5F243230D41979B51FF67A27223D8F8322D0FF3EDAEFA3FDF2B663CC245D529EDD5A0E8301173387EB5C93D515F0A57E18BB189E30595CD21584E552817DCF29661AE4D232E9153511112600BD5DD6F0E4E573889280169DF15210BA18DC61BADADB3C37493407395BBCA7F09B7A9AA53F5130383C10946FBD3310945162974070A6940868A6433B12E4F2DB87B9E0A1B34D99DC311A8740F7C0F74D637CD1287BEC7E67D967036415E8DA9026DED03523C18CE737E59C05791930212A20A17D31688FB0BD82C10364FA7A09C392486138A25CDB9186F280C6846DD1DAE0D9313EA53A55E8E6CE39C4C0D3D0B2C5FEBB882DC38E2DBA926098A9CF2A23AFE142768A411E8D1C204B0524ABB242BA072BDD917350CD22EDA82268985E9362FBA01BC7C2275EBB78CB672C97B399F3B4DCC99FB9B101D138B285533CDC0649D7C336EDDFF3B42A9D9BEA5A97D8F3980C100BA1759548D6113EAAEBAC9B042FEF12CA6EC2DBD04E8CAE491C63C668B417C58AE3E7BDC5E47B7FFFB23BCA31BC407554DF95B695244CDA6409C66E9ADE42B8A452E9B29E719D491859645DCEBBC1B74A894DFFB4AFAB74B7923AFDBFE0301AAD4197D7D436BCC463456978C8CA12E3A26DB6ACB7238CC88E0A68225812F1CD516A33775D773731EAD5DD911AF9B6A54EBD6C638D3CC3165688B3EC6D6584F6E5ED7CB5D9737CF2EDA681E6B00BEEE4FC74776C226C4A2A9B511A956B13A8B1BC3B56B3346D8235D7F740ABAACF1656B5BA3B92517E36E18CADAFF85D5879C124A9A457F9C1C803A32226F7CF9EAC209D93B80E1AE991866980F6D74A439475A503FF239B308AE7AD09AE09A70B503A6F2DB1371A9E1803AC7FCF30C9532A643B4C943E7B6F3C4FDF281AB5B701DEB3C732A73609A71F13A019DC82A625D5539BB639D53D207B8F4BFE53D6B7A55885F9145B84D5D8FD3DE33A75A6BF7CC8198F9C99C40776EA1C3B7F3C7D8EC11F890C1E88EC9864D4D0878D2D3AA1B3C1C59EC8C69422C42FFD6C538AD2FE5FCEE39F3017F8BC5DBBD5F31C368738B8F9FF8CDDFED7D1E1DBBD547FFBBDB175CF533C3EAFB9C07BCDBD789FA67E5B4FBF09FB4B34FC5673BE4B77DF3516F8343DBD5DA3A1DB347E45448F55745943A4BF2972085A0E53D14CF942947E6B6854921871ED1A34C1004BCE24960218CF713B00A5B2F9F37BC21224B9C0281A4EF92CD171A2F1C810CD596B089FFAFF36F9D9E0A2ADF3681667B3D9E73802AA49C32C63BC49280B2BBD2F3B42F20688F46115193FBD4B9D66FEE5BA42BA117C47A0C27C553CB883286608A666DC278F70886EE87D57B024C1BA2CB53783F45F44DBECA3734A969244AAC0A8F9F1137D388C56AFFE01F107CFB84C1F0000 , N'6.1.3-40302')

